// Generated by CoffeeScript 1.7.0
(function() {
  var Stitch, task;

  Stitch = require('../stitch');

  task = function() {
    this.targetExt = "css";
    this.bundle || (this.bundle = true);
    return function(next, params) {
      var result, results, _i, _len;
      if (params.watch) {
        Stitch.remove(params.watch);
      }
      this.stitch || (this.stitch = new Stitch(this.src, "css"));
      results = this.stitch.resolve({
        bundle: this.bundle
      });
      if (Array.isArray(results)) {
        for (_i = 0, _len = results.length; _i < _len; _i++) {
          result = results[_i];
          result.target = "???";
          result.route = "???";
        }
      } else {
        results.target = this.target;
        results.route = this.route;
      }
      return next(null, results);
    };
  };

  module.exports = task;

}).call(this);
